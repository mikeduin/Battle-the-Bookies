<resultsHead class="row" ng-init="vm.updateResults(); vm.getMlbLines(); vm.getDates(); vm.getAllUsers(); vm.updatePicks()">
  <leadDiv class="col m12">
    <div class="col m8 left-align">
      <p class="resHead"> Daily Results </p>
    </div>
    <selectDiv class="col m2">
        <label> Select a Day </label>
        <select class="browser-default" ng-model="vm.matchDayFilter">
          <option ng-repeat = "day in vm.daysOfGames" value="{{day}}"> {{day}} </option>
        </select>
    </selectDiv>
    <selectDiv class="col m2">
        <label> Sort by </label>
        <select class="browser-default" ng-model="vm.userSort">
          <option value="-sumYtd"> YTD $ </option>
          <option value="-sumDay"> Daily $ </option>
        </select>
    </selectDiv>
  </leadDiv>
</resultsHead>

<results>
  <table class="bordered striped">
    <thead>
      <tr>
        <th>
          Entrant
        </th>
        <th>
          YTD $
        </th>
        <th>
          Daily $
        </th>
        <th ng-repeat="game in vm.mlbLines | orderBy: [vm.gameSort, vm.gameSortTwo] | filter: { MatchDay: vm.matchDayFilter }" ng-init="vm.resultChecker(game); vm.matchTimePull(game.MatchTime)"> <span class="nobr">{{game.AwayAbbrev}} {{game.AwayScore}} </span> <br> <span class="nobr"> {{game.HomeAbbrev}} {{game.HomeScore}} </span> <br> {{game.GameStatus}} </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in vm.users | orderBy: vm.userSort" ng-init="vm.getPicks(); vm.sumAllPicks(user)">
        <td> <a ui-sref="home.user({username: user.username})">{{user.username}}</a> </td>
        <td class="nobr"> <b> {{user.sumYtd | currency:$:0}} </b> </td>
        <td class="nobr"> <b> <sum-user-day user="user" datenumb="vm.dateNumbFilter"> </sum-user-day>
        </b> </td>
        <td ng-repeat="pick in vm.picks | orderBy: [vm.gameSort, vm.gameSortTwo] | filter: {MatchDay: vm.matchDayFilter} | filter: {username: user.username}" ng-class="{pickWin: pick.pickResult === 'win', pickLoss: pick.pickResult === 'loss', pickPush: pick.pickResult === 'push'}" ng-init="vm.pickSettle(pick)"> {{pick.activePick}} <br><span> {{pick.dollars | currency:$:0}} </span> </td>
      </tr>
    </tbody>
  </table>
</results>
